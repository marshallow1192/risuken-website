<!DOCTYPE html>
<html>
  <head>
    <title>りすけん お知らせ | 大阪公立大学 自主ゼミサークル理数工学研究会</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 使用するフォントの取り込み -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&family=Noto+Sans+JP:wght@100..900&family=Stick&family=WDXL+Lubrifont+JP+N&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <!-- スライドショー用のライブラリ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <!-- アイコンフォントの取り込み -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body class="info">
    <header>
      <h1 class="site-logo">
      <a href="top-page.html">りすけん Omunia</a>
    </h1>
      <nav class="header-nav">
        <ul class="menu-group">
          <li class="menu-items"><a href="introduction.html">どんなサークル？ </a></li>
          <li class="menu-items"><a href="#">自主ゼミ一覧</a></li>
          <li class="menu-items"><a href="information.html">お知らせ</a></li>
        </ul>
      </nav>
      <button class="hamburger-menu" aria-label="メニューを開く">
      <span></span>
      <span></span>
      <span></span>
    </button>
    </header>
    <div class="information">
      <h2><span class="section-sub-title">Information</span></h2>
      <h1><span class="section-title-information"> お知らせ</span></h1>

      <hr>

      <div class="card-list">
      </div>
      <div class="pagination-container">
          <ul class="pagination">
            </ul>
      </div>
    </div>
  <div class="belt">
    <h2><span class="belt-items">興味のある方はメールやDMにてお気軽にご連絡ください！</span></h2>
  </div>
  <div class="contact">
    <h2><span class="section-sub-title-contact">Contact</span></h2>
    <div class="contact-buttons-container">
      <a href="mailto:circle.omunia@gmail.com" class="btn-sns btn-mail">
        <i class="fa-solid fa-envelope"></i>
        <span>メールでお問い合わせ</span>
      </a>

      <a href="https://x.com/YOUR_USERNAME" class="btn-sns btn-twitter" target="_blank" rel="noopener noreferrer">
        <i class="fa-brands fa-x-twitter"></i>
        <span>XのDMでお問い合わせ</span>
      </a>

    </div>
  </div>
  <div class="copyright">
    <small>&copy; 2025 大坂公立大学 理数工学研究会Omunia.</small>
  </div>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
      const swiper = new Swiper('.swiper', {
        // オプション設定
        loop: true, // ループさせる
        speed: 1000, // 切り替わる時のスピード
        autoplay: {
          delay: 4000, // 4秒ごとに自動再生
          disableOnInteraction: false, // ユーザーが操作しても自動再生を止めない
        },
        pagination: {
          el: '.swiper-pagination', // ページネーションの要素
          clickable: true, // クリックでスライドを切り替え
        },
        navigation: {
          nextEl: '.swiper-button-next', // 「次へ」ボタンの要素
          prevEl: '.swiper-button-prev', // 「前へ」ボタンの要素
        },
      });

      async function setupInformation() {
        const response = await fetch("info.json");
        const informationData = await response.json();

        // --- 設定項目 ---
        const itemsPerPage = 20; // 1ページに表示するカードの数

        // --- データを使ってカードのHTMLを生成し、card-listに追加 ---
        const $cardList = $('.card-list'); // jQueryでは$を変数名に付ける慣習がある
        $.each(informationData, function(index, item) {
          const cardHTML = `
            <a href="${item.link}" class="card">
              <article>
                <img class="card-image" src="${item.img}" alt="">
                <div class="card-content">
                  <h3 class="card-title">${item.title}</h3>
                  <time class="card-date" datetime="${item.date}">${item.displayDate}</time>
                </div>
              </article>
            </a>
          `;
          $cardList.append(cardHTML); // card-listの末尾にHTMLを追加
        });

        // --- ここからページネーションの処理 ---
        const $cards = $('.card');
        const totalPages = Math.ceil($cards.length / itemsPerPage);
        const $pagination = $('.pagination');

        // ページネーションのボタンを生成
        for (let i = 1; i <= totalPages; i++) {
          const $li = $('<li><a href="#">' + i + '</a></li>'); // liとaをまとめて生成
          $pagination.append($li);
        }

        // ページを表示する関数
        function showPage(page) {
          $cards.hide(); // すべてのカードを一旦非表示
          const startIndex = (page - 1) * itemsPerPage;
          const endIndex = startIndex + itemsPerPage;
          $cards.slice(startIndex, endIndex).show(); // 指定範囲のカードだけ表示

          // ページ番号のアクティブ状態を更新
          $pagination.find('li').removeClass('active');
          $pagination.find('li').eq(page - 1).addClass('active');
        }

        // ページネーションのクリックイベント
        $pagination.on('click', 'a', function(event) {
          event.preventDefault();
          const page = parseInt($(this).text()); // クリックされた番号を取得
          showPage(page);
        });

        // --- 初期表示 ---
        showPage(1);
        }

      $(function() { // ページが読み込まれたら実行する、jQueryのお作法
      setupInformation();
      });
    </script>
  </body>
</html>